!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define("UiFile",["vue"],t):"object"===typeof exports?exports.UiFile=t(require("vue")):e.UiFile=t(e.Vue)}("undefined"!==typeof self?self:this,(function(e){return function(){"use strict";var t={996:function(e){var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function l(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function i(e,t){try{return t in e}catch(n){return!1}}function a(e,t,n){var o={};return n.isMergeableObject(e)&&l(e).forEach((function(t){o[t]=r(e[t],n)})),l(t).forEach((function(l){(function(e,t){return i(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,l)||(i(e,l)&&n.isMergeableObject(t[l])?o[l]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"===typeof n?n:c}(l,n)(e[l],t[l],n):o[l]=r(t[l],n))})),o}function c(e,n,l){(l=l||{}).arrayMerge=l.arrayMerge||o,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=r;var i=Array.isArray(n);return i===Array.isArray(e)?i?l.arrayMerge(e,n,l):a(e,n,l):r(n,l)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var u=c;e.exports=u},895:function(t){t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var o={};return function(){r.d(o,{default:function(){return k}});var e=r(996),t=r.n(e);const n=/(?:^\[object\s(.*?)\]$)/;var l=e=>Object.prototype.toString.call(e).replace(n,"$1").toLowerCase();const i=e=>{let{componentProps:n,propName:r,props:o}=e,i=o[r];if("object"===l(i)){const e=n[r].default;n[r].default=()=>t()(e,i)}else Array.isArray(i)?n[r].default=()=>i:n[r].default=i},a=e=>{let{componentMixins:t,propName:n,props:r}=e;if(t.length){let e=t.length;for(;e--;)if(t[e].props&&void 0!==t[e].props[n]){i({componentProps:t[e].props,propName:n,props:r});break}}};var c=(e,t)=>{for(const n of Object.keys(t))e.props?void 0===e.props[n]?a({componentMixins:e.mixins,propName:n,props:t}):i({componentProps:e.props,propName:n,props:t}):a({componentMixins:e.mixins,propName:n,props:t})};var u=e=>{const t={install(t){c(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),t.component(e.name,e)}};return t},s=r(895);const p={cssClasses:{icon:"material-icons"},EVENTS:{CLICK:"click"},getMaterialIconClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[p.cssClasses.icon,...t]}};var f=p;const d={icon:{type:String,default:""}};const m=(0,s.createElementVNode)("span",{class:"mdc-button__ripple"},null,-1),y=(0,s.createElementVNode)("span",{class:"mdc-button__focus-ring"},null,-1),b=["textContent"],v={key:1,class:"mdc-button__label"},g={name:"MdcButton",customOptions:{UI_GLOBAL:f}};var E=Object.assign(g,{props:{outlined:{type:Boolean,default:!1},unelevated:{type:Boolean,default:!1},...d,noLabel:{type:Boolean,default:!1}},emits:[f.EVENTS.CLICK],setup(e,t){let{emit:n}=t;const r=e,{handleClick:o}=function(e){let{emit:t}=e;return{handleClick:function(e){t(p.EVENTS.CLICK,e)}}}({emit:n}),{materialIcon:l}=function(e){return{materialIcon:(0,s.computed)((()=>e.icon||!1))}}(r),i=(0,s.computed)((()=>({"mdc-button":!0,"mdc-button--outlined":r.outlined,"mdc-button--unelevated":r.unelevated})));return(t,n)=>((0,s.openBlock)(),(0,s.createElementBlock)("button",{type:"button",class:(0,s.normalizeClass)((0,s.unref)(i)),onClick:n[0]||(n[0]=function(){return(0,s.unref)(o)&&(0,s.unref)(o)(...arguments)})},[m,y,(0,s.renderSlot)(t.$slots,"icon",{},(()=>[(0,s.unref)(l)?((0,s.openBlock)(),(0,s.createElementBlock)("i",{key:0,class:(0,s.normalizeClass)((0,s.unref)(f).getMaterialIconClass("mdc-button__icon")),"aria-hidden":"true",textContent:(0,s.toDisplayString)((0,s.unref)(l))},null,10,b)):(0,s.createCommentVNode)("",!0)])),e.noLabel?(0,s.renderSlot)(t.$slots,"default",{key:0}):((0,s.openBlock)(),(0,s.createElementBlock)("span",v,[(0,s.renderSlot)(t.$slots,"default")]))],2))}});var w=E;const O={inputId:{type:[String,null],default:null},attrs:{type:Object,default:()=>({})}},S={ERROR:{NON_IMAGE:1,NOT_PREVIEWABLE:2},tmpFileId(){const e=window.crypto||window.msCrypto;let t=new Uint32Array(8);e.getRandomValues(t);let n="";for(let r=0,o=t.length;r<o;r++)n+=(r<2||r>5?"":"-")+t[r].toString(16).slice(-4);return n},createFileObject(e){let{lastModified:t,name:n,size:r,type:o}=e;return{tmpId:S.tmpFileId(),lastModified:t,name:n,size:r,type:o,sourceFile:e}},getPreviewSrc:e=>new Promise(((t,n)=>{if(e.type.startsWith("image/"))if(window.URL)t(window.URL.createObjectURL(e.sourceFile));else if(window.FileReader){let n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e.sourceFile)}else n(S.ERROR.NOT_PREVIEWABLE);else n(S.ERROR.NON_IMAGE)})),async handlePreview(e){e.previewSrc="",e.previewError=0;try{e.previewSrc=await S.getPreviewSrc(e)}catch(t){e.previewError=t}}};var j=async function(e,t,n){const r=[].slice.call(t.target.files);if(r.length){const o=await Promise.all(r.map((async t=>{const n=S.createFileObject(t);return e.preview&&await S.handlePreview(n),Promise.resolve(n)})));n(o),t.target.value=""}};const h=["id","accept","multiple","disabled"],C={EVENTS:{CHANGE:"change"}},N={name:"UiFile",customOptions:{UI_FILE:C}};var x=Object.assign(N,{props:{...O,accept:{type:String,default:""},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},text:{type:String,default:"Upload"},preview:{type:Boolean,default:!1}},emits:[C.EVENTS.CHANGE],setup(e,t){let{emit:n}=t;const r=e,o=(0,s.computed)((()=>({"mdc-file":!0,"mdc-file--single":!r.multiple,"mdc-file--multiple":r.multiple}))),l=(0,s.ref)(null);function i(){if(!r.disabled){const e=l.value;e&&e.click()}}function a(e){j(r,e,(e=>n(C.EVENTS.CHANGE,e)))}return(t,n)=>((0,s.openBlock)(),(0,s.createElementBlock)("div",{class:(0,s.normalizeClass)((0,s.unref)(o)),onClick:i},[(0,s.withDirectives)((0,s.createElementVNode)("input",(0,s.mergeProps)({id:t.inputId,ref_key:"file",ref:l,type:"file",accept:e.accept,multiple:e.multiple,disabled:e.disabled},t.attrs,{onChange:a}),null,16,h),[[s.vShow,!1]]),(0,s.renderSlot)(t.$slots,"default",{},(()=>[(0,s.createVNode)(w,{outlined:e.outlined,unelevated:!e.outlined,icon:"file_upload",disabled:e.disabled},{default:(0,s.withCtx)((()=>[(0,s.createTextVNode)((0,s.toDisplayString)(e.text),1)])),_:1},8,["outlined","unelevated","disabled"])]))],2))}});var k=u(x)}(),o=o.default}()}));